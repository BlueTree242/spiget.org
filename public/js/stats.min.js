$(document).ready(function(){setTimeout(function(){$.ajax({url:"https://api.spiget.org/v2/status?spiget__ua=SpigetStats&pretty=false&callback=?",dataType:"jsonp",success:function(a){resources=a.stats.resources;authors=a.stats.authors;animateValue("#stat_resources",resources,1500);setTimeout(function(){animateValue("#stat_authors",authors,1500)},250)}});animateValue("#stat_daily_requests",2E5,1E4);$.ajax({url:"https://api.spiget.org/v2/metrics/requests/30?spiget__ua=SpigetStats&pretty=false&simple=true",
dataType:"json",success:function(a){count=total=0;$.each(a,function(a,d){0<d.total&&(total+=d.total,count+=1)});avg=0<total&&0<count?total/count:0;rounded=Math.round(avg);$("#stat_daily_requests").stop();animateValue("#stat_daily_requests",rounded,1500)}});$.ajax({url:"https://api.spiget.org/v2/resources/recentUpdates?spiget__ua=SpigetStats&size=16&pretty=false&callback=?",dataType:"jsonp",success:function(a){var c=0;$.each(a,function(a,b){isArray(b)||(c+=1,$("#new-resources").append("<li>\t<a target='_blank' href='https://r.spiget.org/"+
b.id+"'>"+b.name+"<span class='new-res-extra text-muted' id='new_res_extra_"+b.id+"'></span></a>\t<a class='new-res-author text-muted pull-right' id='new_res_author_"+b.id+"' target='_blank' href='#'></a></li>"),b.updateDate===b.releaseDate&&($("#new_res_extra_"+b.id).attr("title","New Resource"),$("#new_res_extra_"+b.id).append("&nbsp;<span class='glyphicon glyphicon-star'></span>")))});0===c&&$("#new-resources").append("<li>\t<span class='text-muted'>No new resources since the last update</span></li>")}});
$.ajax({url:"https://api.spiget.org/v2/authors/recentUpdates?spiget__ua=SpigetStats&size=16&pretty=false&callback=?",dataType:"jsonp",success:function(a){var c=0;$.each(a,function(a,b){isArray(b)||(c+=1,$("#new-authors").append("<li>\t<a target='_blank' href='https://a.spiget.org/"+b.id+"'>"+b.name+"</a></li>"))});0===c&&$("#new-authors").append("<li>\t<span class='text-muted'>No new authors since the last update</span></li>")}})},500);var a=1;setInterval(function(){0<$("#hidden_test").is(":visible")?
$(".scroll-stat").each(function(){$this=$(this);$this.is(":visible")||$this.fadeIn()}):(a>=$(".scroll-stat").length&&(a=0),console.info(a),$current=$(".scroll-stat").eq(a++),console.log($current),$(".scroll-stat").each(function(){$this=$(this);$this.is(":visible")&&$this.fadeOut(500)}),$current.fadeIn(500))},3500)});
function animateValue(a,e,c){a=$(a);void 0===a.prop("counter")&&a.prop("counter",0);a.animate({counter:e},{duration:c,easing:"swing",step:function(c){a.text(numeral(Math.ceil(c)).format("0,0"))}})}function isArray(a){return"[object Array]"===Object.prototype.toString.call(a)};
